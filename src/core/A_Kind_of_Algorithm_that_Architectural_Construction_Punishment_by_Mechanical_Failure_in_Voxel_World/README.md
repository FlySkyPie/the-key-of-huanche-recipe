# ä¸€ç¨®åŸºæ–¼åŠ›å­¸ç ´å£å°æ–¹å¡Šä¸–ç•Œä¸­çš„å»ºç¯‰çµæ§‹é€²è¡Œçš„æ‡²ç½°

åŸæœ¬æ˜¯æƒ³å¯«æ‡‰åŠ›åˆ†æçš„æ¼”ç®—æ³•ï¼Œä½†æ˜¯ä¸çŸ¥é“ç‚ºä»€éº¼å¯«å‡ºä¾†åè€Œè®Šå¾—åƒæ˜¯å½çŸ©åˆ†æã€‚

### ç·£èµ·

> ~~å…¶å¯¦æˆ‘çœ‹ Minecraft çš„ç‰©ç†å¼•æ“ä¸çˆ½å¾ˆä¹…äº†~~ 

Minecraft åŸç”Ÿçš„éŠæˆ²ç’°å¢ƒå…è¨±æµ®ç©ºæ–¹å¡Šï¼Œ
ç•¶ç„¶åœ¨æœ‰ç§©åºçš„ä¼ºæœå™¨æˆ–å®ˆåºçš„ç©å®¶éŠç©ä¸‹ï¼Œ
é€™æ¨£çš„é…ç½®å¯ä»¥ç”Ÿæˆè«¸å¦‚æµ®ç©ºåŸã€é£›è‰‡...ä¹‹é¡ç¾éº—é›„å‰çš„é€ ç‰©ï¼Œ
ä½†æ˜¯è¨“ç·´éç¨‹çš„ AI æ˜¯ç›¸ç•¶ç„¡åºçš„ï¼Œ
å¯ä»¥æƒ³è¦‹ AI å°åœ°å½¢é€ æˆçš„ç ´å£æœƒååˆ†æ¥è¿‘ 2b2t é‡ç”Ÿé»çš„ç¨‹åº¦ã€‚
åœ¨æ··äº‚çš„ç’°å¢ƒä¸­æˆé•·çš„ AI å‹¢å¿…æœƒæŠŠæµ®ç©ºæ–¹å¡Šè¦–ä½œç’°å¢ƒç‰¹å¾µè€Œå¦¥å–„åˆ©ç”¨å®ƒï¼Œ
é€™èˆ‡æˆ‘æ‰€æœŸæœ›èƒ½å¤ å»ºç«‹å¸åœ‹èˆ¬ç§©åºçš„ AI ç›¸å·¦ã€‚

é€™å¹¾å¤©å‰›å¥½æƒ³åˆ°ï¼š
> ç‚ºä»€éº¼æ²’æœ‰ 3D ç‰ˆæœ¬çš„ Falling-sand gameï¼ŸğŸ¤”

ä»¥ Powder Toy [^Powder_Toy]ç‚ºä¾‹ï¼Œå®ƒåŸºæœ¬å°±æ˜¯ä¸€å€‹å¾®ç¸®çš„äºŒç¶­ç‰©ç†æ¨¡æ“¬å™¨ï¼Œç”šè‡³èƒ½å¤ åœ¨ä¹‹ä¸­æ¨¡æ“¬æ ¸é›»å» çš„é‹ä½œã€‚æœ€å°å–®å…ƒæ˜¯åƒç´ æ„å‘³è‘—å®ƒçš„é‹ç®—æ–¹å¼æ˜¯ä¸€æ ¼ä¸€æ ¼çš„ï¼Œè€Œä¸æ˜¯åœ¨å‘é‡ç©ºé–“é£›è¡Œçš„è³ªé»ã€‚ä¼¼ä¹å¯ä»¥å¾ˆå®¹æ˜“å¾—å‡ºçµè«–ï¼šä¸‰ç¶­çš„ Falling-sand game æ‡‰è©²é•·å¾—åƒæ˜¯ Minecraftã€‚åœ¨æŸ¥äº†ä¸€äº› Powder Toy çš„å½±ç‰‡ä¹‹å¾Œï¼Œç¨‹å¼é­‚è¢«æ‚„æ‚„çš„é»ç‡ƒäº†ã€‚

æ¥è‘—ç¢ºèªçœ‹çœ‹æœ‰æ²’æœ‰äººå¯«é Minecraft çš„é‡åŠ›æ¨¡çµ„ï¼šæœ‰ã€‚

BlockPhysics è³¦äºˆäº†åœŸå£¤å’Œæ²™å­ï¼ˆå¾ˆé›¢æ•£çš„ï¼‰æµå‹•æ€§ï¼Œä¸¦ä¸”è®“ç£šå¡Šéµå®ˆæŸç¨®è¦å‰‡è€Œä¸æ‰è½ï¼Œå…¶è¦å‰‡åŸºæœ¬ä¸Šä¾†è‡ªå‘¨åœ 3x3x3 å…¶ä»–çš„æ–¹å¡Šã€‚çœ‹å¾—å‡ºä¾†ä»–å°±æ˜¯å¯«äº†ä¸€äº›åˆ¤æ–·å¼å»åµæ¸¬æ–¹å¡Šå‘¨é­çš„æ–¹å¡Šä¸¦ä¸”åˆ¤æ–·æ‰ä¸æ‰è½ï¼Œä»¥åŠæ”¾ç½®æ–¹å¡Šæ™‚çš„åŠ å…¥ä¸€äº›åˆ¤æ–·ã€‚[^BlockPhysics]

æ©...é€™ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œä¸»è¦æ˜¯å› ç‚ºå®ƒä»ç„¶å…è¨±ä¸€äº›å¥‡å½¢æ€ªç‹€çš„å»ºç¯‰ï¼Œæˆ‘å¸Œæœ›é€éåŠ›å­¸ç´„æŸé€¼è¿«æ©Ÿå™¨å­¸ç¿’ç”¢å‡ºçš„å»ºç¯‰ç‰©å¿…é ˆéµå¾æŸç¨®ç¨‹åº¦ä¸Šçš„çµæ§‹è¨­è¨ˆã€‚

æ–¼æ˜¯æˆ‘å»ºäº†å…©å€‹æ¼”ç®—æ³•çš„æ¨¡å‹ï¼šä¸€å€‹ç”¨ä¾†è™•ç†æ’æ“Šç ´å£ã€ä¸€å€‹ç”¨ä¾†è™•ç†é‡åŠ›ç ´å£ï¼Œå‰è€…ä¸æ˜¯æœ¬æ–‡çš„è¨è«–é‡é»ï¼Œè®“æˆ‘å€‘å…ˆæŠŠé‡é»æ”¾åœ¨é‡åŠ›ç ´å£ä¸Šå§ã€‚

### ç¸½ä¹‹å…ˆå¯«ç¨‹å¼

![](./img/title.png)

ä¸€é–‹å§‹çš„æ¦‚å¿µæ˜¯é€™æ¨£çš„ï¼š
> æ¯éä¸€å€‹å¾®é‡æ™‚é–“ï¼Œã€Œé‡åŠ›èƒ½ã€å°±æœƒè¢«æ–½åŠ åœ¨å¾®å…ƒç´ ä¸Šï¼›ã€Œé‡åŠ›èƒ½ã€æœƒå¾ã€Œé‡åŠ›èƒ½ã€çš„åœ°æ–¹å¾€ä½çš„æ–¹å‘æµï¼Œå½¢æˆã€Œé‡åŠ›æµã€ï¼›æœ€å¾Œæµå‘å¤§åœ°ï¼Œå¤§åœ°é‚Šç•Œæœƒæ¶ˆé™¤ã€Œé‡åŠ›èƒ½ã€ã€‚
> å¾®å…ƒç´ ç´¯ç©çš„ã€Œé‡åŠ›èƒ½ã€å¤§æ–¼é€ƒæº¢èƒ½æ™‚ï¼ˆè‡¨ç•Œï¼‰ï¼Œå¾®å…ƒç´ å°±æœƒç™¼ç”Ÿç ´å£ã€‚

ç°¡å–®å»ºäº†å€‹æ¨¡å‹å°±é–‹å§‹å¯«ç¨‹å¼ï¼š
$$
g'(x) = \frac{g_{x-1} + g_{x+1}}{2} + k
$$

ç•¶ä¸‹å…¶å¯¦æ²’æœ‰è€ƒæ…®å¤ªå¤šæ•¸å­¸ä¸Šçš„äº‹ï¼Œå°±æ˜¯å¾ˆç›´è¦ºçš„éš¨ä¾¿å¯«äº†ä¸€äº›ç®—æ³•ï¼Œ
ç„¶å¾Œä¸Ÿè©¦ç®—è¡¨æˆ–æ˜¯ä¸Ÿè…³æœ¬ï¼ˆç¨‹å¼ï¼‰è·‘è·‘çœ‹ï¼Œæ¥è‘—é©—æ”¶è·‘å‡ºä¾†çš„åœ–ã€‚

![](./img/chart-1.png)

x è»¸æ˜¯å¾®å…ƒç´ çš„ä¸€ç¶­åˆ†ä½ˆï¼Œy è»¸æ˜¯æ¼”ç®—æ³•è¿­ä»£æ™‚é–“ï¼Œåˆ†åˆ¥åœ¨ $x=0,12,99$ çš„åœ°æ–¹æ”¾ç½®æ”¯é»ï¼Œæœƒå¸æ”¶é‡åŠ›èƒ½ã€‚æŠŠ $t=1,000$ çš„é‡åŠ›èƒ½åˆ†ä½ˆåœ–ç¹ªè£½å‡ºä¾†ï¼š

![](./img/chart-2.png)

...æ©ï¼Ÿæˆ‘æ€éº¼å°é€™åˆ†ä½ˆå¥½åƒæœ‰å°è±¡ï¼Ÿ

![https://www.aboutcivil.org/imajes/Sfd-bmd-simple-beam-udl.JPG](./img/shear-moment-1.jpg)

æ˜¯å‡ºç¾åœ¨å‰ªåŠ›-å½çŸ©åœ–çš„å½çŸ©å•Šå•Šï¼

### æ¨¡å‹çš„æ•¸å­¸è§£æ

è‹¥è€ƒæ…®ä¸€ç¶­ç©ºé–“ä¸­ï¼Œæ¯å€‹å¾®å…ƒç´ å«æœ‰ã€Œé‡åŠ›èƒ½ã€çš„å‡½æ•¸ç‚º $g(x)$ï¼Œ
ä¸è€ƒæ…®æŒçºŒæ–½åŠ çš„é‡åŠ›èƒ½ï¼Œåƒ…è€ƒæ…®æµå‹•ï¼Œé›¢æ•£æè¿°ï¼š
$$
g'(x) = \frac{g_{x-1} + g_{x+1}}{2}
$$

ç¶“éæ•´ç†å¯ä»¥å¾—åˆ°ï¼š
$g'(x) = 
\frac1{2} ((g_{x-1} - g_x)+( g_{n+1} - g_x)) + g_x$

å› æ­¤å¯ä»¥å°å‡ºï¼š
$\frac{\Delta g }{\Delta t}= 
\frac1{2} ((g_{x-1} - g_x)+( g_{x+1} - g_x))$

ç¹¼çºŒæ•´ç†ï¼š
$\frac{\Delta g }{\Delta t}= 
\frac1{2} (( g_{x+1} - g_x) - (g_{x} - g_{x-1}))$

é€™æ˜¯ä»€éº¼å‘¢ï¼Ÿ
$\begin{align}
  \frac{\Delta g }{\Delta t}
    &= \frac1{2} (\frac{\Delta g_{x+1}}{\Delta x} - \frac{\Delta g_{x}}{\Delta x}) \\
    &=\frac12 \frac{\Delta \Delta g}{\Delta x\Delta x}
\end{align}$

å¯«æˆé€£çºŒå‹æ…‹ï¼š
$$
\frac{dg}{dt} = \frac{d^2 g}{dx^2}
$$

é€™ä¸æ˜¯ç†±å‚³æ–¹ç¨‹å¼å—ï¼ï¼Ÿ(â•¯Â°Ğ”Â°)â•¯ï¸µ ãƒ(ï½¡ãƒ¼ï½¡)ãƒ½

å°å¼ï¼Œç•¢ç«Ÿå°±æ˜¯ç”¨æµå‹•çš„æ¦‚å¿µå»å¯«çš„ï¼Œé›£æ€ªæœƒè·‘å‡ºç†±å‚³ï¼ˆæ“´æ•£ï¼‰æ–¹ç¨‹å¼ (ãƒ½Â°Ğ”Â°)ãƒ½ ãƒ½( Â°_Â° )ãƒ

### è§£å¾®åˆ†æ–¹ç¨‹
å¥½å™ ï¼Œæ‰‹ä¸Šæœ‰ä¸€å€‹å¾®åˆ†æ–¹ç¨‹ï¼Œé€™è®“æˆ‘å¾ˆå¥½å¥‡ $g$ ç©¶ç«Ÿé•·æ€æ¨£
$$
\frac{d\,g}{d\,t} = \frac{d^2\,g}{d\,x^2} +k
$$

é¦–å…ˆï¼Œæˆ‘æƒ³çŸ¥é“é‹ç®—æ”¶æ–‚æ™‚ $g$ çš„ç‹€æ…‹ï¼Œå› æ­¤ï¼š
$$
\frac{d^2\,g}{d\,x^2}=-k \Big|_{\frac{d\,g}{d\,t}=0}
$$

ç©åˆ†å…©æ¬¡æˆ‘æœƒå¾—åˆ°ï¼š
$$
g(x)=-\frac12 k x^2 + c_1 x + c_2
$$

é€™æ˜¯...é–‹å£æœä¸‹çš„æ‹‹ç‰©ç·šå‘¢ï¼è·Ÿç•«å‡ºä¾†çš„æ›²ç·šä¸€æ¨£å‘¢ï¼(Â´Â°Ï‰Â°\`)

### å…¶ä»–å˜—è©¦ - æœ‰é™é‡åŠ›èƒ½
åœ¨å¹¾å€‹æ—©æœŸç‰ˆæœ¬çš„è…³æœ¬æ¸¬è©¦ä¸­ï¼Œæˆ‘ä¸¦æ²’æœ‰æ³¨æ„åˆ°æ”¶æ–‚çš„ç¾è±¡ï¼Œ
æ‡‰è©²æ˜¯æ’°å¯«çš„è…³æœ¬æœ¬èº«æœ‰ BUGï¼Œprint å‡ºä¾†çš„æ•¸å€¼æœƒç™¼æ•£ï¼Œ
æ–¼æ˜¯æˆ‘è©¦è‘—åŠ å…¥æ¢ä»¶ï¼š
> æ•´å€‹ç³»çµ±çš„ã€Œé‡åŠ›èƒ½ã€æ˜¯æœ‰é™çš„

ä¹Ÿå°±æ˜¯å°æ•´å€‹ç³»çµ±è€Œè¨€ï¼Œé‡åŠ›èƒ½çš„è®ŠåŒ–ç‚ºé›¶ï¼š
$$
\int_{\Bbb S} \frac{d\,g}{d\,t} d\,t =0
$$

é€™ä½¿å¾— $k$ ä¸å†æ˜¯å¸¸æ•¸ï¼Œå¯¦é©—çµæœå¦‚ä¸‹ï¼š

![](./img/chart-3.png)

åœ¨ $t=100$ çš„ç‹€æ…‹ç•«æˆ g-x æ›²ç·šåœ–ï¼š

![](./img/chart-4.png)

é‡åŠ›èƒ½éƒ½è¢«é–“è·æ¯”è¼ƒå¤§çš„å€åŸŸåƒæ‰å•¦ï¼ï¼ ((( Â°Ğ”Â°)))

### çœ‹èµ·ä¾†å®ƒçœŸçš„æ˜¯å½çŸ©
![http://www.fao.org/3/s1250e/S1250E46.GIF](./img/shear-moment-2.gif)

åœ¨å‡ä½ˆè·é‡çš„åŠ›å­¸æ¨¡å‹ä¸­ï¼Œ

$$
V(x)=-\int w(x)\,dx \\
M(x)=\int V(x)\,dx
$$

$M$ï¼šå½çŸ©ï¼Œ$V$ï¼šå‰ªåŠ›ï¼Œ$w$å–®ä½æ¢å—åŠ›ã€‚

å½çŸ©å°è·é›¢å¾®åˆ†å…©æ¬¡å°±æœƒå¾—åˆ°æ¢çš„å–®ä½å—åŠ› $(N/m)$ã€‚[^Direct_integration_of_a_beam]

æ¥è‘—æˆ‘åˆ†åˆ¥æŠŠç°¡æ”¯æ¢ï¼ˆé€£çºŒæ¨‘ï¼‰å’Œæ‡¸è‡‚æ¢ï¼ˆå¤–ä¼¸æ¨‘ï¼‰çš„æ•¸å€¼ä¸Ÿé€²è©¦ç®—è¡¨æ±‚å¾®åˆ†å€¼ï¼š

![](./img/chart-5.png)

![](./img/chart-6.png)

é‡åŠ›èƒ½çš„åˆ†ä½ˆå’Œå½çŸ©åœ–å…¶å¯¦å¾ˆæ¥è¿‘ï¼Œä½†æ˜¯å°±æ˜¯å‚ç›´è»¸çš„ä½ç½®ä¸å¤ªå°ï¼Œç¿»äº†ç¿»è³‡æ–™ç™¼ç¾æ˜¯å› ç‚ºæˆ‘æ²’åŠ å…¥ $\sum M= 0$ çš„å¹³è¡¡æ¢ä»¶ã€‚

äººå·¥åœ¨è©¦ç®—è¡¨è£¡ä¿®æ­£å¾Œå°±æœƒå¾—åˆ°åœ–ä¸­ç´…è‰²çš„éƒ¨ä»½ï¼Œçœ‹èµ·ä¾†çš„ç¢ºæ¯”è¼ƒåƒææ–™åŠ›å­¸è£¡çš„å½çŸ©åˆ†ä½ˆåœ–äº†ï¼Œ
é€éå¾®åˆ†ä¹Ÿå¾ˆæ˜é¡¯çš„çœ‹åˆ°å‰ªåŠ›å’Œè·é‡å¾—å‡ºç¾äº†ã€‚

ä¸éé‹ç®—å‡ºä¾†çš„è·é‡å’Œæˆ‘ä¸€é–‹å§‹æ–½åŠ çš„ $k$ æœ‰ä¸€é»é»è½å·®ï¼Œèª¤å·®ç™¾åˆ†æ¯”é«˜é” 30% ã€‚

ä¸éåªæ˜¯è¦ç”¨ä¾†æ‡²ç½°æ©Ÿå™¨å­¸ç¿’ç”¨çš„ï¼Œä¸ç”¨å¤ªæº–æ‡‰è©²ä¹Ÿæ²’é—œä¿‚å§ï¼ˆï¼Ÿ

æ¥ä¸‹ä¾†çš„èª²é¡Œæ˜¯ï¼š
> å¦‚ä½•åœ¨å…ƒç´ çš„è¿­ä»£éç¨‹è‡ªç„¶çš„æ”¶æ–‚æˆè¢«ä¿®æ­£çš„ã€Œå½çŸ©å€¼ã€ï¼Ÿ

### ä¿®é£¾é‡åŠ›èƒ½
æˆ‘å€‘å¯ä»¥ç™¼ç¾ã€Œé‡åŠ›èƒ½ã€æ˜¯å¤§æ–¼é›¶çš„åƒæ•¸ï¼Œå…¶å’Œå¿…ä¸ç­‰æ–¼é›¶ï¼Œ
å¯ä»¥é€éè©²æ–¹å¼è£œæ­£ï¼š
$$
g_m(x) = g(x) + m
$$

$g_m$ï¼šä¿®é£¾é‡åŠ›èƒ½ï¼Œä¿®æ­£å¾Œçš„é‡åŠ›èƒ½ç”¨ä¾†åŒ¹é…ç›¸å°çœŸå¯¦çš„å½çŸ©åˆ†ä½ˆã€‚
$g$ï¼šåŸå§‹é‡åŠ›èƒ½ã€‚
$m$ï¼šä¿®æ­£é …ï¼Œç‚ºäº†ä½¿å½çŸ©å€¼æ»¿è¶³å¹³è¡¡æ¢ä»¶ $\sum M =0$

ä¿®æ­£é …æ‡‰è©²ç‚ºé‡åŠ›èƒ½åŠ ç¸½çš„å¹³å‡å€¼ï¼š
$$
m = -\frac1x \int g d\,x
$$

é€éå’Œé‡åŠ›èƒ½ä¸€æ¨£çš„è¨ˆç®—æ–¹å¼ï¼Œä½¿ç”¨æµå‹•çš„æ–¹å¼ä¾†æ”¶æ–‚è§£ï¼š
$$
\frac{d\,m}{d\,t} = \frac{d\,g}{d\,t} + \frac{d^2\,m}{d\,x^2}
$$

ç•¶é‡åŠ›èƒ½æ”¶æ–‚æ™‚ï¼Œå³ $\frac{d\,g}{d\,t}$ è¶¨è¿‘æ–¼é›¶ï¼Œä¿®æ­£é … $m$ çš„è®ŠåŒ–ä¾¿æœƒå—åˆ°æ“´æ•£å¾®åˆ†é …ä¸»å°ï¼Œæœ€çµ‚è¶¨æ–¼å¹³å‡åˆ†ä½ˆã€‚

é‡æ§‹ä¹‹å¾ŒåŠ å…¥ä¿®æ­£é …çš„ç¨‹å¼çµæœï¼ˆè¿­ä»£æ¬¡æ•¸ï¼š1000 ï¼‰ï¼ŒåŸå§‹å€¼ï¼š
![](./img/chart-7.png)

ä¿®æ­£é …ï¼š
![](./img/chart-8.png)

ä¿®æ­£å€¼ï¼š
![](./img/chart-9.png)

### äºŒç¶­æ¨¡å‹é©—è­‰
å®Œæˆä¸€ç¶­æ¨¡å‹é©—è­‰ä¹‹å¾Œï¼Œæ¥ä¸‹ä¾†æ›äºŒç¶­äº†ï¼Œ
ä¸éç‚ºäº†æ–¹ä¾¿ä¸‹ä¸€å€‹éšæ®µï¼ˆä¸‰ç¶­ï¼‰çš„é©—è­‰ï¼Œç¨‹å¼ç¢¼æ˜¯ç›´æ¥å¯«æˆä¸‰ç¶­çš„ã€‚
ä¸€å€‹ chunk æ˜¯ç”± $100 \times 100 \times 100$ å€‹å…ƒç´ æ§‹æˆï¼Œ
ä¸‹åœ–æ˜¯ $(x,0,z)$ å¹³é¢çš„å‰–é¢åœ–è¿­ä»£ 1000 æ¬¡çš„æ”¶æ–‚éç¨‹ï¼š

[![](https://i.imgur.com/aTH8wTl.gif)](./video/test-1.mp4)

### åŠ å…¥ç ´å£æ©Ÿåˆ¶
å´©æ½°æ¨¡å‹æ¡ç”¨ï¼šç•¶é‡åŠ›èƒ½æˆ–ä¿®æ­£é‡åŠ›èƒ½å¤§æ–¼è‡¨ç•Œé»ä¾¿ç›´æ¥ç§»é™¤è©²æ–¹å¡Šã€‚

[![](https://i.imgur.com/elrEx8Z.gif)](./video/test-2.mp4)

### ç¨‹å¼ç¢¼
https://github.com/FlySkyPie/the-architectural-construction-punishment-by-mechanical-failure-in-voxel-source

###### tags: `development note`

[^Powder_Toy]: The Powder Toy - Wikipedia. (n.d.).Retrieved 2020-01-09, from https://en.wikipedia.org/wiki/The_Powder_Toy

[^BlockPhysics]:  BlockPhysics Mod 1.7.10 (Real Collision) - 9Minecraft.Net. (n.d.). Retrieved 2020-01-09, from http://www.9minecraft.net/blockphysics-mod/

[^Direct_integration_of_a_beam]: Direct integration of a beam - Wikipedia. (n.d.). Retrieved 2020-01-09, from https://en.wikipedia.org/wiki/Direct_integration_of_a_beam

